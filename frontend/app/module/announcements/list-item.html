<div class="announcement">
    <div class="announcement-title">
        <button type="button" class="btn btn-default btn-xs pull-right"
                ng-click="$ctrl.hideSubscribers = !$ctrl.hideSubscribers">
            <span ng-show="$ctrl.hideSubscribers" translate="announcements.list.hideSubscribers"></span>
            <span ng-hide="$ctrl.hideSubscribers" translate="announcements.list.showSubscribers"></span>
            &nbsp;
            <span ng-show="$ctrl.hideSubscribers" class="glyphicon glyphicon-chevron-up"></span>
            <span ng-hide="$ctrl.hideSubscribers" class="glyphicon glyphicon-chevron-down"></span>
        </button>

        <div class="date" ng-bind="::($ctrl.announcement.date | date:'d.M.yyyy')"></div>
        <div class="subject" ng-bind="::$ctrl.announcement.subject"></div>
        <div class="sender">
            <span translate="announcements.list.messageFrom"></span>
            <span ng-bind="::($ctrl.announcement | announcementSender)"></span>
        </div>

        <div uib-collapse="!$ctrl.hideSubscribers">
            <div class="receiver">
                <span translate="announcements.list.subscriberOrganisations"></span>
                <ul>
                    <li ng-repeat="s in $ctrl.announcement.subscriberOrganisations">
                        <span ng-bind="::(s.name|rI18nNameFilter)"></span>
                    </li>
                </ul>
            </div>
            <div class="receiver">
                <span translate="announcements.list.subscriberOccupations"></span>
                <ul>
                    <li ng-repeat="s in $ctrl.announcement.occupationTypes">
                        <span ng-bind="::(s|translateWithPrefix:'occupation.type.')"></span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="announcement-content">
        <div class="body">
            <div ng-class="{'summary': $ctrl.onlySummary, 'content': !$ctrl.onlySummary}"
                 ng-bind-html="::($ctrl.announcement.body | htmlSplitLines)"></div>
        </div>

        <div class="actions" ng-if="::$ctrl.showActions">
            <div class="btn-container">
                <button type="button" class="btn btn-primary btn-sm"
                        ng-click="$ctrl.show($ctrl.announcement)"
                        translate="announcements.list.showButton"></button>

                <button type="button" class="btn btn-default btn-sm"
                        ng-show="$ctrl.canEdit($ctrl.announcement)"
                        ng-click="$ctrl.edit($ctrl.announcement)"
                        translate="global.button.edit"></button>

                <button type="button" class="btn btn-default btn-sm"
                        ng-show="$ctrl.canEdit($ctrl.announcement)"
                        ng-click="$ctrl.delete($ctrl.announcement)"
                        translate="global.button.delete"></button>
            </div>
        </div>
    </div>
</div>
